# 05 概率分析和随机算法

- 5.1-2

```C
/*
输入:函数R0以同等概率输出0/1
输出：函数Rx输出随机值为a-b
*/
int Rx(int a,int b)
{
    int r=a;
    while(a<=b)
    {
        r+=R0(0,1);
        a++;
    }
    return r;
}
```

- 5.1-3
  - 条件：函数R0,以概率p输出1,以概率1-p输出0
  - 求解：使用函数R0构建函数R1，以1/2概率输出0/1
> 分析：
当$x=R0()时,x取值$

| x   | 概率 |
| --- | ---- |
| 0   | 1-p  |
| 1   | p    |

当$y=R0()时,x+y取值$

| x+y | 概率                |
| --- | ------------------- |
| 0+0 | $(1-p) \cdot (1-p)$ |
| 1+0 | $p \cdot (1-P)$     |
| 0+1 | $(1-p) \cdot p$     |
| 1+1 | $p \cdot p$         |

由此可以看出，对于x+y=1时，出现两种情况即(1+0)和(0+1)两者的概率都是$p(1-p)$,利用这个两个情况输出的值两个值的概率是相同的，仅输出者两个值时，其概率都是1/2
> 算法：
```C
/*
输出：函数R0以概率p输出1，概率1-p输出0
输出：函数R1,以同等概率输出0/1
*/
int R1()
{
    int x0 =R0();
    int x1 =R0();
    if(x0+x1==1)
        return x;
    else
        return R1();
}
```
